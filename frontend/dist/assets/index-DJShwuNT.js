import{M as bt,b as A,c as ee,g as Ge,_ as ae,d as We,C as st,N as Ke,h as Rt,u as T,m as Et,r as wt,O as $t,f as Xe}from"./button-4Hia_NiO.js";import{l as xt,k as lt,m as Ot,K as Je,P as Tt,i as Dt}from"./index-D5VRFVwU.js";import{r as l,R as _,c as Nt}from"./index-DTB5YGJN.js";import{p as ct,g as It}from"./sweetalert.min-BjMBVopP.js";const _t=new lt("antFadeIn",{"0%":{opacity:0},"100%":{opacity:1}}),Mt=new lt("antFadeOut",{"0%":{opacity:1},"100%":{opacity:0}}),At=(e,t=!1)=>{const{antCls:n}=e,o=`${n}-fade`,a=t?"&":"";return[xt(o,_t,Mt,e.motionDurationMid,t),{[`
        ${a}${o}-enter,
        ${a}${o}-appear
      `]:{opacity:0,animationTimingFunction:"linear"},[`${a}${o}-leave`]:{animationTimingFunction:"linear"}}]};var ut=l.createContext({});function Ye(e,t,n){var o=t;return!o&&n&&(o="".concat(e,"-").concat(n)),o}function Ze(e,t){var n=e["page".concat(t?"Y":"X","Offset")],o="scroll".concat(t?"Top":"Left");if(typeof n!="number"){var a=e.document;n=a.documentElement[o],typeof n!="number"&&(n=a.body[o])}return n}function Lt(e){var t=e.getBoundingClientRect(),n={left:t.left,top:t.top},o=e.ownerDocument,a=o.defaultView||o.parentWindow;return n.left+=Ze(a),n.top+=Ze(a,!0),n}const Pt=l.memo(function(e){var t=e.children;return t},function(e,t){var n=t.shouldUpdate;return!n});var Bt={width:0,height:0,overflow:"hidden",outline:"none"},Vt={outline:"none"},Ht=_.forwardRef(function(e,t){var n=e.prefixCls,o=e.className,a=e.style,u=e.title,r=e.ariaId,c=e.footer,i=e.closable,C=e.closeIcon,S=e.onClose,d=e.children,f=e.bodyStyle,m=e.bodyProps,$=e.modalRender,g=e.onMouseDown,M=e.onMouseUp,s=e.holderRef,U=e.visible,H=e.forceRender,D=e.width,x=e.height,b=e.classNames,R=e.styles,E=_.useContext(ut),G=E.panel,B=bt(s,G),W=l.useRef(),X=l.useRef();_.useImperativeHandle(t,function(){return{focus:function(){var N;(N=W.current)===null||N===void 0||N.focus({preventScroll:!0})},changeActive:function(N){var ne=document,oe=ne.activeElement;N&&oe===X.current?W.current.focus({preventScroll:!0}):!N&&oe===W.current&&X.current.focus({preventScroll:!0})}}});var z={};D!==void 0&&(z.width=D),x!==void 0&&(z.height=x);var O=c?_.createElement("div",{className:ee("".concat(n,"-footer"),b?.footer),style:A({},R?.footer)},c):null,V=u?_.createElement("div",{className:ee("".concat(n,"-header"),b?.header),style:A({},R?.header)},_.createElement("div",{className:"".concat(n,"-title"),id:r},u)):null,J=l.useMemo(function(){return Ge(i)==="object"&&i!==null?i:i?{closeIcon:C??_.createElement("span",{className:"".concat(n,"-close-x")})}:{}},[i,C,n]),Z=ct(J,!0),j=Ge(i)==="object"&&i.disabled,ce=i?_.createElement("button",ae({type:"button",onClick:S,"aria-label":"Close"},Z,{className:"".concat(n,"-close"),disabled:j}),J.closeIcon):null,se=_.createElement("div",{className:ee("".concat(n,"-content"),b?.content),style:R?.content},ce,V,_.createElement("div",ae({className:ee("".concat(n,"-body"),b?.body),style:A(A({},f),R?.body)},m),d),O);return _.createElement("div",{key:"dialog-element",role:"dialog","aria-labelledby":u?r:null,"aria-modal":"true",ref:B,style:A(A({},a),z),className:ee(n,o),onMouseDown:g,onMouseUp:M},_.createElement("div",{ref:W,tabIndex:0,style:Vt},_.createElement(Pt,{shouldUpdate:U||H},$?$(se):se)),_.createElement("div",{tabIndex:0,ref:X,style:Bt}))}),dt=l.forwardRef(function(e,t){var n=e.prefixCls,o=e.title,a=e.style,u=e.className,r=e.visible,c=e.forceRender,i=e.destroyOnClose,C=e.motionName,S=e.ariaId,d=e.onVisibleChanged,f=e.mousePosition,m=l.useRef(),$=l.useState(),g=We($,2),M=g[0],s=g[1],U={};M&&(U.transformOrigin=M);function H(){var D=Lt(m.current);s(f&&(f.x||f.y)?"".concat(f.x-D.left,"px ").concat(f.y-D.top,"px"):"")}return l.createElement(st,{visible:r,onVisibleChanged:d,onAppearPrepare:H,onEnterPrepare:H,forceRender:c,motionName:C,removeOnLeave:i,ref:m},function(D,x){var b=D.className,R=D.style;return l.createElement(Ht,ae({},e,{ref:t,title:o,ariaId:S,prefixCls:n,holderRef:x,style:A(A(A({},R),a),U),className:ee(u,b)}))})});dt.displayName="Content";var Wt=function(t){var n=t.prefixCls,o=t.style,a=t.visible,u=t.maskProps,r=t.motionName,c=t.className;return l.createElement(st,{key:"mask",visible:a,motionName:r,leavedClassName:"".concat(n,"-mask-hidden")},function(i,C){var S=i.className,d=i.style;return l.createElement("div",ae({ref:C,style:A(A({},d),o),className:ee("".concat(n,"-mask"),S,c)},u))})},zt=function(t){var n=t.prefixCls,o=n===void 0?"rc-dialog":n,a=t.zIndex,u=t.visible,r=u===void 0?!1:u,c=t.keyboard,i=c===void 0?!0:c,C=t.focusTriggerAfterClose,S=C===void 0?!0:C,d=t.wrapStyle,f=t.wrapClassName,m=t.wrapProps,$=t.onClose,g=t.afterOpenChange,M=t.afterClose,s=t.transitionName,U=t.animation,H=t.closable,D=H===void 0?!0:H,x=t.mask,b=x===void 0?!0:x,R=t.maskTransitionName,E=t.maskAnimation,G=t.maskClosable,B=G===void 0?!0:G,W=t.maskStyle,X=t.maskProps,z=t.rootClassName,O=t.classNames,V=t.styles,J=l.useRef(),Z=l.useRef(),j=l.useRef(),ce=l.useState(r),se=We(ce,2),F=se[0],N=se[1],ne=Ot();function oe(){Ke(Z.current,document.activeElement)||(J.current=document.activeElement)}function ue(){if(!Ke(Z.current,document.activeElement)){var v;(v=j.current)===null||v===void 0||v.focus()}}function ye(v){if(v)ue();else{if(N(!1),b&&J.current&&S){try{J.current.focus({preventScroll:!0})}catch{}J.current=null}F&&M?.()}g?.(v)}function de(v){$?.(v)}var fe=l.useRef(!1),ge=l.useRef(),le=function(){clearTimeout(ge.current),fe.current=!0},Se=function(){ge.current=setTimeout(function(){fe.current=!1})},be=null;B&&(be=function(p){fe.current?fe.current=!1:Z.current===p.target&&de(p)});function y(v){if(i&&v.keyCode===Je.ESC){v.stopPropagation(),de(v);return}r&&v.keyCode===Je.TAB&&j.current.changeActive(!v.shiftKey)}l.useEffect(function(){r&&(N(!0),oe())},[r]),l.useEffect(function(){return function(){clearTimeout(ge.current)}},[]);var w=A(A(A({zIndex:a},d),V?.wrapper),{},{display:F?null:"none"});return l.createElement("div",ae({className:ee("".concat(o,"-root"),z)},ct(t,{data:!0})),l.createElement(Wt,{prefixCls:o,visible:b&&r,motionName:Ye(o,R,E),style:A(A({zIndex:a},W),V?.mask),maskProps:X,className:O?.mask}),l.createElement("div",ae({tabIndex:-1,onKeyDown:y,className:ee("".concat(o,"-wrap"),f,O?.wrapper),ref:Z,onClick:be,style:w},m),l.createElement(dt,ae({},t,{onMouseDown:le,onMouseUp:Se,ref:j,closable:D,ariaId:ne,prefixCls:o,visible:r&&F,onClose:de,onVisibleChanged:ye,motionName:Ye(o,s,U)}))))},jt=function(t){var n=t.visible,o=t.getContainer,a=t.forceRender,u=t.destroyOnClose,r=u===void 0?!1:u,c=t.afterClose,i=t.panelRef,C=l.useState(n),S=We(C,2),d=S[0],f=S[1],m=l.useMemo(function(){return{panel:i}},[i]);return l.useEffect(function(){n&&f(!0)},[n]),!a&&r&&!d?null:l.createElement(ut.Provider,{value:m},l.createElement(Tt,{open:n||a||d,autoDestroy:!1,getContainer:o,autoLock:n||d},l.createElement(zt,ae({},t,{destroyOnClose:r,afterClose:function(){c?.(),f(!1)}}))))};jt.displayName="Dialog";function Qe(e){return{position:e,inset:0}}const Ft=e=>{const{componentCls:t,antCls:n}=e;return[{[`${t}-root`]:{[`${t}${n}-zoom-enter, ${t}${n}-zoom-appear`]:{transform:"none",opacity:0,animationDuration:e.motionDurationSlow,userSelect:"none"},[`${t}${n}-zoom-leave ${t}-content`]:{pointerEvents:"none"},[`${t}-mask`]:Object.assign(Object.assign({},Qe("fixed")),{zIndex:e.zIndexPopupBase,height:"100%",backgroundColor:e.colorBgMask,pointerEvents:"none",[`${t}-hidden`]:{display:"none"}}),[`${t}-wrap`]:Object.assign(Object.assign({},Qe("fixed")),{zIndex:e.zIndexPopupBase,overflow:"auto",outline:0,WebkitOverflowScrolling:"touch"})}},{[`${t}-root`]:At(e)}]},qt=e=>{const{componentCls:t}=e;return[{[`${t}-root`]:{[`${t}-wrap-rtl`]:{direction:"rtl"},[`${t}-centered`]:{textAlign:"center","&::before":{display:"inline-block",width:0,height:"100%",verticalAlign:"middle",content:'""'},[t]:{top:0,display:"inline-block",paddingBottom:0,textAlign:"start",verticalAlign:"middle"}},[`@media (max-width: ${e.screenSMMax}px)`]:{[t]:{maxWidth:"calc(100vw - 16px)",margin:`${T(e.marginXS)} auto`},[`${t}-centered`]:{[t]:{flex:1}}}}},{[t]:Object.assign(Object.assign({},wt(e)),{pointerEvents:"none",position:"relative",top:100,width:"auto",maxWidth:`calc(100vw - ${T(e.calc(e.margin).mul(2).equal())})`,margin:"0 auto",paddingBottom:e.paddingLG,[`${t}-title`]:{margin:0,color:e.titleColor,fontWeight:e.fontWeightStrong,fontSize:e.titleFontSize,lineHeight:e.titleLineHeight,wordWrap:"break-word"},[`${t}-content`]:{position:"relative",backgroundColor:e.contentBg,backgroundClip:"padding-box",border:0,borderRadius:e.borderRadiusLG,boxShadow:e.boxShadow,pointerEvents:"auto",padding:e.contentPadding},[`${t}-close`]:Object.assign({position:"absolute",top:e.calc(e.modalHeaderHeight).sub(e.modalCloseBtnSize).div(2).equal(),insetInlineEnd:e.calc(e.modalHeaderHeight).sub(e.modalCloseBtnSize).div(2).equal(),zIndex:e.calc(e.zIndexPopupBase).add(10).equal(),padding:0,color:e.modalCloseIconColor,fontWeight:e.fontWeightStrong,lineHeight:1,textDecoration:"none",background:"transparent",borderRadius:e.borderRadiusSM,width:e.modalCloseBtnSize,height:e.modalCloseBtnSize,border:0,outline:0,cursor:"pointer",transition:`color ${e.motionDurationMid}, background-color ${e.motionDurationMid}`,"&-x":{display:"flex",fontSize:e.fontSizeLG,fontStyle:"normal",lineHeight:T(e.modalCloseBtnSize),justifyContent:"center",textTransform:"none",textRendering:"auto"},"&:disabled":{pointerEvents:"none"},"&:hover":{color:e.modalCloseIconHoverColor,backgroundColor:e.colorBgTextHover,textDecoration:"none"},"&:active":{backgroundColor:e.colorBgTextActive}},$t(e)),[`${t}-header`]:{color:e.colorText,background:e.headerBg,borderRadius:`${T(e.borderRadiusLG)} ${T(e.borderRadiusLG)} 0 0`,marginBottom:e.headerMarginBottom,padding:e.headerPadding,borderBottom:e.headerBorderBottom},[`${t}-body`]:{fontSize:e.fontSize,lineHeight:e.lineHeight,wordWrap:"break-word",padding:e.bodyPadding,[`${t}-body-skeleton`]:{width:"100%",height:"100%",display:"flex",justifyContent:"center",alignItems:"center",margin:`${T(e.margin)} auto`}},[`${t}-footer`]:{textAlign:"end",background:e.footerBg,marginTop:e.footerMarginTop,padding:e.footerPadding,borderTop:e.footerBorderTop,borderRadius:e.footerBorderRadius,[`> ${e.antCls}-btn + ${e.antCls}-btn`]:{marginInlineStart:e.marginXS}},[`${t}-open`]:{overflow:"hidden"}})},{[`${t}-pure-panel`]:{top:"auto",padding:0,display:"flex",flexDirection:"column",[`${t}-content,
          ${t}-body,
          ${t}-confirm-body-wrapper`]:{display:"flex",flexDirection:"column",flex:"auto"},[`${t}-confirm-body`]:{marginBottom:"auto"}}}]},Ut=e=>{const{componentCls:t}=e;return{[`${t}-root`]:{[`${t}-wrap-rtl`]:{direction:"rtl",[`${t}-confirm-body`]:{direction:"rtl"}}}}},Gt=e=>{const{componentCls:t}=e,n=It(e),o=Object.assign({},n);delete o.xs;const a=`--${t.replace(".","")}-`,u=Object.keys(o).map(r=>({[`@media (min-width: ${T(o[r])})`]:{width:`var(${a}${r}-width)`}}));return{[`${t}-root`]:{[t]:[].concat(Xe(Object.keys(n).map((r,c)=>{const i=Object.keys(n)[c-1];return i?{[`${a}${r}-width`]:`var(${a}${i}-width)`}:null})),[{width:`var(${a}xs-width)`}],Xe(u))}}},Kt=e=>{const t=e.padding,n=e.fontSizeHeading5,o=e.lineHeightHeading5;return Et(e,{modalHeaderHeight:e.calc(e.calc(o).mul(n).equal()).add(e.calc(t).mul(2).equal()).equal(),modalFooterBorderColorSplit:e.colorSplit,modalFooterBorderStyle:e.lineType,modalFooterBorderWidth:e.lineWidth,modalCloseIconColor:e.colorIcon,modalCloseIconHoverColor:e.colorIconHover,modalCloseBtnSize:e.controlHeight,modalConfirmIconSize:e.fontHeight,modalTitleHeight:e.calc(e.titleFontSize).mul(e.titleLineHeight).equal()})},Xt=e=>({footerBg:"transparent",headerBg:e.colorBgElevated,titleLineHeight:e.lineHeightHeading5,titleFontSize:e.fontSizeHeading5,contentBg:e.colorBgElevated,titleColor:e.colorTextHeading,contentPadding:e.wireframe?0:`${T(e.paddingMD)} ${T(e.paddingContentHorizontalLG)}`,headerPadding:e.wireframe?`${T(e.padding)} ${T(e.paddingLG)}`:0,headerBorderBottom:e.wireframe?`${T(e.lineWidth)} ${e.lineType} ${e.colorSplit}`:"none",headerMarginBottom:e.wireframe?0:e.marginXS,bodyPadding:e.wireframe?e.paddingLG:0,footerPadding:e.wireframe?`${T(e.paddingXS)} ${T(e.padding)}`:0,footerBorderTop:e.wireframe?`${T(e.lineWidth)} ${e.lineType} ${e.colorSplit}`:"none",footerBorderRadius:e.wireframe?`0 0 ${T(e.borderRadiusLG)} ${T(e.borderRadiusLG)}`:0,footerMarginTop:e.wireframe?0:e.marginSM,confirmBodyPadding:e.wireframe?`${T(e.padding*2)} ${T(e.padding*2)} ${T(e.paddingLG)}`:0,confirmIconMarginInlineEnd:e.wireframe?e.margin:e.marginSM,confirmBtnsMarginTop:e.wireframe?e.marginLG:e.marginSM}),_n=Rt("Modal",e=>{const t=Kt(e);return[qt(t),Ut(t),Ft(t),Dt(t,"zoom"),Gt(t)]},Xt,{unitless:{titleLineHeight:!0}});var we={exports:{}},$e={};var ke;function Jt(){if(ke)return $e;ke=1;var e=Nt();function t(d,f){return d===f&&(d!==0||1/d===1/f)||d!==d&&f!==f}var n=typeof Object.is=="function"?Object.is:t,o=e.useState,a=e.useEffect,u=e.useLayoutEffect,r=e.useDebugValue;function c(d,f){var m=f(),$=o({inst:{value:m,getSnapshot:f}}),g=$[0].inst,M=$[1];return u(function(){g.value=m,g.getSnapshot=f,i(g)&&M({inst:g})},[d,m,f]),a(function(){return i(g)&&M({inst:g}),d(function(){i(g)&&M({inst:g})})},[d]),r(m),m}function i(d){var f=d.getSnapshot;d=d.value;try{var m=f();return!n(d,m)}catch{return!0}}function C(d,f){return f()}var S=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?C:c;return $e.useSyncExternalStore=e.useSyncExternalStore!==void 0?e.useSyncExternalStore:S,$e}var et;function Yt(){return et||(et=1,we.exports=Jt()),we.exports}var Zt=Yt();const ft=0,mt=1,gt=2,tt=3;var nt=Object.prototype.hasOwnProperty;function _e(e,t){var n,o;if(e===t)return!0;if(e&&t&&(n=e.constructor)===t.constructor){if(n===Date)return e.getTime()===t.getTime();if(n===RegExp)return e.toString()===t.toString();if(n===Array){if((o=e.length)===t.length)for(;o--&&_e(e[o],t[o]););return o===-1}if(!n||typeof e=="object"){o=0;for(n in e)if(nt.call(e,n)&&++o&&!nt.call(t,n)||!(n in t)||!_e(e[n],t[n]))return!1;return Object.keys(t).length===o}}return e!==e&&t!==t}const te=new WeakMap,re=()=>{},L=re(),Me=Object,h=e=>e===L,Y=e=>typeof e=="function",ie=(e,t)=>({...e,...t}),vt=e=>Y(e.then),xe={},pe={},ze="undefined",he=typeof window!=ze,Ae=typeof document!=ze,Qt=he&&"Deno"in window,kt=()=>he&&typeof window.requestAnimationFrame!=ze,ht=(e,t)=>{const n=te.get(e);return[()=>!h(t)&&e.get(t)||xe,o=>{if(!h(t)){const a=e.get(t);t in pe||(pe[t]=a),n[5](t,ie(a,o),a||xe)}},n[6],()=>!h(t)&&t in pe?pe[t]:!h(t)&&e.get(t)||xe]};let Le=!0;const en=()=>Le,[Pe,Be]=he&&window.addEventListener?[window.addEventListener.bind(window),window.removeEventListener.bind(window)]:[re,re],tn=()=>{const e=Ae&&document.visibilityState;return h(e)||e!=="hidden"},nn=e=>(Ae&&document.addEventListener("visibilitychange",e),Pe("focus",e),()=>{Ae&&document.removeEventListener("visibilitychange",e),Be("focus",e)}),on=e=>{const t=()=>{Le=!0,e()},n=()=>{Le=!1};return Pe("online",t),Pe("offline",n),()=>{Be("online",t),Be("offline",n)}},rn={isOnline:en,isVisible:tn},an={initFocus:nn,initReconnect:on},ot=!_.useId,ve=!he||Qt,sn=e=>kt()?window.requestAnimationFrame(e):setTimeout(e,1),Oe=ve?l.useEffect:l.useLayoutEffect,Te=typeof navigator<"u"&&navigator.connection,rt=!ve&&Te&&(["slow-2g","2g"].includes(Te.effectiveType)||Te.saveData),Ce=new WeakMap,ln=e=>Me.prototype.toString.call(e),De=(e,t)=>e===`[object ${t}]`;let cn=0;const Ve=e=>{const t=typeof e,n=ln(e),o=De(n,"Date"),a=De(n,"RegExp"),u=De(n,"Object");let r,c;if(Me(e)===e&&!o&&!a){if(r=Ce.get(e),r)return r;if(r=++cn+"~",Ce.set(e,r),Array.isArray(e)){for(r="@",c=0;c<e.length;c++)r+=Ve(e[c])+",";Ce.set(e,r)}if(u){r="#";const i=Me.keys(e).sort();for(;!h(c=i.pop());)h(e[c])||(r+=c+":"+Ve(e[c])+",");Ce.set(e,r)}}else r=o?e.toJSON():t=="symbol"?e.toString():t=="string"?JSON.stringify(e):""+e;return r},je=e=>{if(Y(e))try{e=e()}catch{e=""}const t=e;return e=typeof e=="string"?e:(Array.isArray(e)?e.length:e)?Ve(e):"",[e,t]};let un=0;const He=()=>++un;async function yt(...e){const[t,n,o,a]=e,u=ie({populateCache:!0,throwOnError:!0},typeof a=="boolean"?{revalidate:a}:a||{});let r=u.populateCache;const c=u.rollbackOnError;let i=u.optimisticData;const C=f=>typeof c=="function"?c(f):c!==!1,S=u.throwOnError;if(Y(n)){const f=n,m=[],$=t.keys();for(const g of $)!/^\$(inf|sub)\$/.test(g)&&f(t.get(g)._k)&&m.push(g);return Promise.all(m.map(d))}return d(n);async function d(f){const[m]=je(f);if(!m)return;const[$,g]=ht(t,m),[M,s,U,H]=te.get(t),D=()=>{const O=M[m];return(Y(u.revalidate)?u.revalidate($().data,f):u.revalidate!==!1)&&(delete U[m],delete H[m],O&&O[0])?O[0](gt).then(()=>$().data):$().data};if(e.length<3)return D();let x=o,b,R=!1;const E=He();s[m]=[E,0];const G=!h(i),B=$(),W=B.data,X=B._c,z=h(X)?W:X;if(G&&(i=Y(i)?i(z,W):i,g({data:i,_c:z})),Y(x))try{x=x(z)}catch(O){b=O,R=!0}if(x&&vt(x))if(x=await x.catch(O=>{b=O,R=!0}),E!==s[m][0]){if(R)throw b;return x}else R&&G&&C(b)&&(r=!0,g({data:z,_c:L}));if(r&&!R)if(Y(r)){const O=r(x,z);g({data:O,error:L,_c:L})}else g({data:x,error:L,_c:L});if(s[m][1]=He(),Promise.resolve(D()).then(()=>{g({_c:L})}),R){if(S)throw b;return}return x}}const at=(e,t)=>{for(const n in e)e[n][0]&&e[n][0](t)},dn=(e,t)=>{if(!te.has(e)){const n=ie(an,t),o=Object.create(null),a=yt.bind(L,e);let u=re;const r=Object.create(null),c=(S,d)=>{const f=r[S]||[];return r[S]=f,f.push(d),()=>f.splice(f.indexOf(d),1)},i=(S,d,f)=>{e.set(S,d);const m=r[S];if(m)for(const $ of m)$(d,f)},C=()=>{if(!te.has(e)&&(te.set(e,[o,Object.create(null),Object.create(null),Object.create(null),a,i,c]),!ve)){const S=n.initFocus(setTimeout.bind(L,at.bind(L,o,ft))),d=n.initReconnect(setTimeout.bind(L,at.bind(L,o,mt)));u=()=>{S&&S(),d&&d(),te.delete(e)}}};return C(),[e,a,C,u]}return[e,te.get(e)[4]]},fn=(e,t,n,o,a)=>{const u=n.errorRetryCount,r=a.retryCount,c=~~((Math.random()+.5)*(1<<(r<8?r:8)))*n.errorRetryInterval;!h(u)&&r>u||setTimeout(o,c,a)},mn=_e,[St,gn]=dn(new Map),vn=ie({onLoadingSlow:re,onSuccess:re,onError:re,onErrorRetry:fn,onDiscarded:re,revalidateOnFocus:!0,revalidateOnReconnect:!0,revalidateIfStale:!0,shouldRetryOnError:!0,errorRetryInterval:rt?1e4:5e3,focusThrottleInterval:5*1e3,dedupingInterval:2*1e3,loadingTimeout:rt?5e3:3e3,compare:mn,isPaused:()=>!1,cache:St,mutate:gn,fallback:{}},rn),hn=(e,t)=>{const n=ie(e,t);if(t){const{use:o,fallback:a}=e,{use:u,fallback:r}=t;o&&u&&(n.use=o.concat(u)),a&&r&&(n.fallback=ie(a,r))}return n},yn=l.createContext({}),Sn="$inf$",pt=he&&window.__SWR_DEVTOOLS_USE__,pn=pt?window.__SWR_DEVTOOLS_USE__:[],Cn=()=>{pt&&(window.__SWR_DEVTOOLS_REACT__=_)},bn=e=>Y(e[1])?[e[0],e[1],e[2]||{}]:[e[0],null,(e[1]===null?e[2]:e[1])||{}],Rn=()=>{const e=l.useContext(yn);return l.useMemo(()=>ie(vn,e),[e])},En=e=>(t,n,o)=>e(t,n&&((...u)=>{const[r]=je(t),[,,,c]=te.get(St);if(r.startsWith(Sn))return n(...u);const i=c[r];return h(i)?n(...u):(delete c[r],i)}),o),wn=pn.concat(En),$n=e=>function(...n){const o=Rn(),[a,u,r]=bn(n),c=hn(o,r);let i=e;const{use:C}=c,S=(C||[]).concat(wn);for(let d=S.length;d--;)i=S[d](i);return i(a,u||c.fetcher||null,c)},xn=(e,t,n)=>{const o=t[e]||(t[e]=[]);return o.push(n),()=>{const a=o.indexOf(n);a>=0&&(o[a]=o[o.length-1],o.pop())}};Cn();const Ne=_.use||(e=>{switch(e.status){case"pending":throw e;case"fulfilled":return e.value;case"rejected":throw e.reason;default:throw e.status="pending",e.then(t=>{e.status="fulfilled",e.value=t},t=>{e.status="rejected",e.reason=t}),e}}),Ie={dedupe:!0},it=Promise.resolve(L),On=(e,t,n)=>{const{cache:o,compare:a,suspense:u,fallbackData:r,revalidateOnMount:c,revalidateIfStale:i,refreshInterval:C,refreshWhenHidden:S,refreshWhenOffline:d,keepPreviousData:f}=n,[m,$,g,M]=te.get(o),[s,U]=je(e),H=l.useRef(!1),D=l.useRef(!1),x=l.useRef(s),b=l.useRef(t),R=l.useRef(n),E=()=>R.current,G=()=>E().isVisible()&&E().isOnline(),[B,W,X,z]=ht(o,s),O=l.useRef({}).current,V=h(r)?h(n.fallback)?L:n.fallback[s]:r,J=(y,w)=>{for(const v in O){const p=v;if(p==="data"){if(!a(y[p],w[p])&&(!h(y[p])||!a(ue,w[p])))return!1}else if(w[p]!==y[p])return!1}return!0},Z=l.useMemo(()=>{const y=!s||!t?!1:h(c)?E().isPaused()||u?!1:i!==!1:c,w=P=>{const Q=ie(P);return delete Q._k,y?{isValidating:!0,isLoading:!0,...Q}:Q},v=B(),p=z(),K=w(v),me=v===p?K:w(p);let I=K;return[()=>{const P=w(B());return J(P,I)?(I.data=P.data,I.isLoading=P.isLoading,I.isValidating=P.isValidating,I.error=P.error,I):(I=P,P)},()=>me]},[o,s]),j=Zt.useSyncExternalStore(l.useCallback(y=>X(s,(w,v)=>{J(v,w)||y()}),[o,s]),Z[0],Z[1]),ce=!H.current,se=m[s]&&m[s].length>0,F=j.data,N=h(F)?V&&vt(V)?Ne(V):V:F,ne=j.error,oe=l.useRef(N),ue=f?h(F)?h(oe.current)?N:oe.current:F:N,ye=se&&!h(ne)?!1:ce&&!h(c)?c:E().isPaused()?!1:u?h(N)?!1:i:h(N)||i,de=!!(s&&t&&ce&&ye),fe=h(j.isValidating)?de:j.isValidating,ge=h(j.isLoading)?de:j.isLoading,le=l.useCallback(async y=>{const w=b.current;if(!s||!w||D.current||E().isPaused())return!1;let v,p,K=!0;const me=y||{},I=!g[s]||!me.dedupe,P=()=>ot?!D.current&&s===x.current&&H.current:s===x.current,Q={isValidating:!1,isLoading:!1},Fe=()=>{W(Q)},qe=()=>{const q=g[s];q&&q[1]===p&&delete g[s]},Ue={isValidating:!0};h(B().data)&&(Ue.isLoading=!0);try{if(I&&(W(Ue),n.loadingTimeout&&h(B().data)&&setTimeout(()=>{K&&P()&&E().onLoadingSlow(s,n)},n.loadingTimeout),g[s]=[w(U),He()]),[v,p]=g[s],v=await v,I&&setTimeout(qe,n.dedupingInterval),!g[s]||g[s][1]!==p)return I&&P()&&E().onDiscarded(s),!1;Q.error=L;const q=$[s];if(!h(q)&&(p<=q[0]||p<=q[1]||q[1]===0))return Fe(),I&&P()&&E().onDiscarded(s),!1;const k=B().data;Q.data=a(k,v)?k:v,I&&P()&&E().onSuccess(v,s,n)}catch(q){qe();const k=E(),{shouldRetryOnError:Re}=k;k.isPaused()||(Q.error=q,I&&P()&&(k.onError(q,s,k),(Re===!0||Y(Re)&&Re(q))&&(!E().revalidateOnFocus||!E().revalidateOnReconnect||G())&&k.onErrorRetry(q,s,k,Ct=>{const Ee=m[s];Ee&&Ee[0]&&Ee[0](tt,Ct)},{retryCount:(me.retryCount||0)+1,dedupe:!0})))}return K=!1,Fe(),!0},[s,o]),Se=l.useCallback((...y)=>yt(o,x.current,...y),[]);if(Oe(()=>{b.current=t,R.current=n,h(F)||(oe.current=F)}),Oe(()=>{if(!s)return;const y=le.bind(L,Ie);let w=0;E().revalidateOnFocus&&(w=Date.now()+E().focusThrottleInterval);const p=xn(s,m,(K,me={})=>{if(K==ft){const I=Date.now();E().revalidateOnFocus&&I>w&&G()&&(w=I+E().focusThrottleInterval,y())}else if(K==mt)E().revalidateOnReconnect&&G()&&y();else{if(K==gt)return le();if(K==tt)return le(me)}});return D.current=!1,x.current=s,H.current=!0,W({_k:U}),ye&&(g[s]||(h(N)||ve?y():sn(y))),()=>{D.current=!0,p()}},[s]),Oe(()=>{let y;function w(){const p=Y(C)?C(B().data):C;p&&y!==-1&&(y=setTimeout(v,p))}function v(){!B().error&&(S||E().isVisible())&&(d||E().isOnline())?le(Ie).then(w):w()}return w(),()=>{y&&(clearTimeout(y),y=-1)}},[C,S,d,s]),l.useDebugValue(ue),u){const y=s&&h(N);if(!ot&&ve&&y)throw new Error("Fallback data is required when using Suspense in SSR.");y&&(b.current=t,R.current=n,D.current=!1);const w=M[s],v=!h(w)&&y?Se(w):it;if(Ne(v),!h(ne)&&y)throw ne;const p=y?le(Ie):it;!h(ue)&&y&&(p.status="fulfilled",p.value=!0),Ne(p)}return{mutate:Se,get data(){return O.data=!0,ue},get error(){return O.error=!0,ne},get isValidating(){return O.isValidating=!0,fe},get isLoading(){return O.isLoading=!0,ge}}},Mn=$n(On);export{jt as D,Ht as P,_n as a,Xt as b,Ft as g,At as i,Kt as p,Mn as u};
